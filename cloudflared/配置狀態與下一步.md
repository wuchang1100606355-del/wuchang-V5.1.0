# Cloudflare Tunnel é…ç½®ç‹€æ…‹èˆ‡ä¸‹ä¸€æ­¥

**æ›´æ–°æ™‚é–“**ï¼š2026-01-22

---

## âœ… å·²å®Œæˆ

1. âœ… **DNS å‚³æ’­æª¢æŸ¥**ï¼š`wuchang.life` å·²æ­£ç¢ºè§£æåˆ° `220.135.21.74`ï¼ˆå…¨çƒå‚³æ’­æˆåŠŸï¼‰
2. âœ… **Cloudflare ç™»å…¥**ï¼šå·²æˆåŠŸç™»å…¥ Cloudflare
3. âœ… **Tunnel å»ºç«‹**ï¼šå·²å»ºç«‹ Tunnel `wuchang-life`
4. âœ… **Tunnel ID**ï¼š`837487dc-1536-43ec-a1c9-ee366a0aa4b7`
5. âœ… **config.yml æ›´æ–°**ï¼šå·²å¡«å…¥ Tunnel ID

---

## âš ï¸ å¾…å®Œæˆ

### 1. æ†‘è­‰æª”æ¡ˆé…ç½®

**å•é¡Œ**ï¼šå®¹å™¨å…§æ‰¾ä¸åˆ°æ†‘è­‰æª”æ¡ˆ

**è§£æ±ºæ–¹æ¡ˆ**ï¼šä½¿ç”¨ Volume æ›è¼‰æˆ–ç’°å¢ƒè®Šæ•¸

**é¸é … Aï¼šä½¿ç”¨ Volume æ›è¼‰ï¼ˆæ¨è–¦ï¼‰**

åœ¨ `docker-compose.yml` ä¸­æ·»åŠ  volume æ›è¼‰ï¼š

```yaml
services:
  cloudflared:
    image: cloudflare/cloudflared:latest
    volumes:
      - ./cloudflared/config.yml:/etc/cloudflared/config.yml:ro
      - ./cloudflared/credentials.json:/etc/cloudflared/credentials.json:ro
    command: tunnel run
```

**é¸é … Bï¼šä½¿ç”¨ç’°å¢ƒè®Šæ•¸**

```yaml
services:
  cloudflared:
    image: cloudflare/cloudflared:latest
    environment:
      - TUNNEL_TOKEN=<tunnel-token>
    command: tunnel run
```

---

### 2. æ†‘è­‰æª”æ¡ˆä½ç½®

**æœ¬åœ°æ†‘è­‰æª”æ¡ˆ**ï¼š`C:\Users\o0930\.cloudflared\837487dc-1536-43ec-a1c9-ee366a0aa4b7.json`

**éœ€è¦è¤‡è£½åˆ°**ï¼š`cloudflared/credentials.json`

**åŸ·è¡Œå‘½ä»¤**ï¼š

```powershell
# è¤‡è£½æ†‘è­‰æª”æ¡ˆåˆ°å°ˆæ¡ˆç›®éŒ„
Copy-Item "C:\Users\o0930\.cloudflared\837487dc-1536-43ec-a1c9-ee366a0aa4b7.json" -Destination "cloudflared\credentials.json"
```

---

## ğŸš€ å®Œæ•´é…ç½®æ­¥é©Ÿ

### æ­¥é©Ÿ 1ï¼šè¤‡è£½æ†‘è­‰æª”æ¡ˆ

```powershell
# ç¢ºä¿ cloudflared ç›®éŒ„å­˜åœ¨
New-Item -ItemType Directory -Force -Path "cloudflared"

# è¤‡è£½æ†‘è­‰æª”æ¡ˆ
Copy-Item "C:\Users\o0930\.cloudflared\837487dc-1536-43ec-a1c9-ee366a0aa4b7.json" -Destination "cloudflared\credentials.json"
```

### æ­¥é©Ÿ 2ï¼šæ›´æ–° docker-compose.yml

åœ¨ `docker-compose.yml` ä¸­æ·»åŠ æˆ–æ›´æ–° `cloudflared` æœå‹™ï¼š

```yaml
services:
  cloudflared:
    image: cloudflare/cloudflared:latest
    container_name: wuchangv510-cloudflared-1
    restart: unless-stopped
    volumes:
      - ./cloudflared/config.yml:/etc/cloudflared/config.yml:ro
      - ./cloudflared/credentials.json:/etc/cloudflared/credentials.json:ro
    command: tunnel run
```

### æ­¥é©Ÿ 3ï¼šé‡å•Ÿæœå‹™

```powershell
# åœæ­¢ç¾æœ‰å®¹å™¨
docker stop wuchangv510-cloudflared-1

# ä½¿ç”¨ docker-compose é‡æ–°å•Ÿå‹•ï¼ˆå¦‚æœä½¿ç”¨ docker-composeï¼‰
docker-compose up -d cloudflared

# æˆ–ç›´æ¥å•Ÿå‹•å®¹å™¨ï¼ˆå¦‚æœæ‰‹å‹•å•Ÿå‹•ï¼‰
docker run -d \
  --name wuchangv510-cloudflared-1 \
  --restart unless-stopped \
  -v "$PWD/cloudflared/config.yml:/etc/cloudflared/config.yml:ro" \
  -v "$PWD/cloudflared/credentials.json:/etc/cloudflared/credentials.json:ro" \
  cloudflare/cloudflared:latest tunnel run
```

### æ­¥é©Ÿ 4ï¼šæª¢æŸ¥æ—¥èªŒ

```powershell
docker logs wuchangv510-cloudflared-1
```

**æ‡‰è©²çœ‹åˆ°**ï¼š
- `Connection established`
- æ²’æœ‰éŒ¯èª¤è¨Šæ¯

---

## ğŸ“‹ é©—è­‰æ­¥é©Ÿ

### 1. æª¢æŸ¥ Tunnel é€£æ¥

```powershell
docker logs wuchangv510-cloudflared-1 --tail 50
```

### 2. æª¢æŸ¥ HTTPS è¨ªå•

åœ¨ç€è¦½å™¨è¨ªå•ï¼š
- https://wuchang.life
- https://www.wuchang.life

**æ‡‰è©²çœ‹åˆ°**ï¼š
- âœ… æœ‰æ•ˆçš„ SSL è­‰æ›¸ï¼ˆé–é ­åœ–ç¤ºï¼‰
- âœ… ç¶²ç«™æ­£å¸¸è¼‰å…¥

### 3. æª¢æŸ¥ DNSï¼ˆç¢ºèªæœªä¿®æ”¹ï¼‰

åœ¨ Cloudflare Dashboard æª¢æŸ¥ï¼š
- âœ… `wuchang.life` çš„ A è¨˜éŒ„ä»ç„¶æ˜¯ `220.135.21.74`
- âœ… `www.wuchang.life` çš„ A è¨˜éŒ„ä»ç„¶æ˜¯ `220.135.21.74`
- âœ… **DNS è¨˜éŒ„æœªä¿®æ”¹**ï¼ˆç¬¦åˆ Google éç‡Ÿåˆ©è¦ç¯„ï¼‰

---

## âœ… ç¬¦åˆ Google éç‡Ÿåˆ©è¦ç¯„

### æŠ€è¡“è¦æ±‚

- âœ… **HTTPS/SSL è­‰æ›¸**ï¼šé€šé Cloudflare Tunnel è‡ªå‹•ç°½ç™¼
- âœ… **å…¨çƒå¯è¦‹æ€§**ï¼šDNS å·²æ­£ç¢ºå‚³æ’­ï¼ˆé©—è­‰å®Œæˆï¼‰
- âœ… **DNS è¨˜éŒ„æœªä¿®æ”¹**ï¼šä¿æŒç¾æœ‰ DNS è¨˜éŒ„ä¸è®Š

### åˆè¦æª¢æŸ¥

- âœ… ä¸é•å Google éç‡Ÿåˆ©è¦ç¯„ï¼ˆæœªä¿®æ”¹ DNSï¼‰
- âœ… æ»¿è¶³ Google Ad Grants æŠ€è¡“è¦æ±‚
- âœ… ä¿æŒç¾æœ‰åŸºç¤è¨­æ–½ä¸è®Š

---

## ğŸ“ æ³¨æ„äº‹é …

1. **æ†‘è­‰æª”æ¡ˆå®‰å…¨**ï¼š
   - `credentials.json` åŒ…å«æ•æ„Ÿè³‡è¨Š
   - ä¸è¦æäº¤åˆ° Git
   - ç¢ºä¿ `.gitignore` åŒ…å« `cloudflared/credentials.json`

2. **å®¹å™¨é‡å•Ÿ**ï¼š
   - ä¿®æ”¹é…ç½®å¾Œéœ€è¦é‡å•Ÿå®¹å™¨
   - ä½¿ç”¨ `docker restart` æˆ– `docker-compose restart`

3. **æ—¥èªŒç›£æ§**ï¼š
   - å®šæœŸæª¢æŸ¥å®¹å™¨æ—¥èªŒ
   - ç¢ºä¿ Tunnel é€£æ¥æ­£å¸¸

---

**å»ºç«‹æ™‚é–“**ï¼š2026-01-22
