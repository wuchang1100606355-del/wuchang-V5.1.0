# Cloudflare Tunnel é…ç½®å®Œæˆå ±å‘Š

**å®Œæˆæ™‚é–“**ï¼š2026-01-22

---

## âœ… å·²å®Œæˆé …ç›®

### 1. æ†‘è­‰æª”æ¡ˆé…ç½®
- âœ… æ†‘è­‰æª”æ¡ˆå·²è¤‡è£½åˆ° `cloudflared/credentials.json`
- âœ… Tunnel IDï¼š`837487dd-1536-43ec-a1c9-ee366a0aa4b7`
- âœ… Account Tagï¼š`5e03cda21de4cb420c5d97027ea4d6ad`

### 2. é…ç½®æª”æ¡ˆæ›´æ–°
- âœ… `config.yml` å·²æ›´æ–°æ­£ç¢ºçš„ Tunnel ID
- âœ… å·²é…ç½®æ‰€æœ‰ ingress è¦å‰‡ï¼ˆwuchang.life, www.wuchang.life ç­‰ï¼‰

### 3. å®¹å™¨é…ç½®
- âœ… å®¹å™¨å·²é‡æ–°å»ºç«‹ä¸¦ä½¿ç”¨ volume æ›è¼‰
- âœ… é…ç½®æª”æ¡ˆå’Œæ†‘è­‰æª”æ¡ˆå·²æ­£ç¢ºæ›è¼‰
- âœ… å®¹å™¨ç‹€æ…‹ï¼šé‹è¡Œä¸­

### 4. Tunnel é€£æ¥ç‹€æ…‹
- âœ… Tunnel å·²æˆåŠŸå•Ÿå‹•
- âœ… å·²è¨»å†Šå¤šå€‹é€£æ¥ï¼ˆconnIndex=0,1,2,3ï¼‰
- âœ… é€£æ¥ä½ç½®ï¼škhh01, tpe01ï¼ˆå°ç£ï¼‰
- âœ… å”è­°ï¼šQUIC

---

## ğŸ“Š é€£æ¥ç‹€æ…‹

å¾æ—¥èªŒå¯ä»¥çœ‹åˆ°ï¼š
```
Starting tunnel tunnelID=837487dd-1536-43ec-a1c9-ee366a0aa4b7
Registered tunnel connection connIndex=0 location=khh01 protocol=quic
Registered tunnel connection connIndex=1 location=tpe01 protocol=quic
Registered tunnel connection connIndex=2 location=khh01 protocol=quic
Registered tunnel connection connIndex=3 location=tpe01 protocol=quic
```

**ç‹€æ…‹**ï¼šâœ… **æ­£å¸¸é‹è¡Œ**

---

## âš ï¸ æ³¨æ„äº‹é …

### Origin Certificate è­¦å‘Š

æ—¥èªŒä¸­é¡¯ç¤ºï¼š
```
ERR Cannot determine default origin certificate path. No file cert.pem in [...]
```

**èªªæ˜**ï¼š
- é€™æ˜¯ä¸€å€‹è­¦å‘Šï¼Œä¸å½±éŸ¿ Tunnel é‹ä½œ
- Origin certificate ç”¨æ–¼é¡å¤–çš„å®‰å…¨é©—è­‰
- ç•¶å‰é…ç½®å·²è¶³å¤ ä½¿ç”¨

**å¯é¸ä¿®å¾©**ï¼ˆå¦‚æœéœ€è¦ï¼‰ï¼š
- è¤‡è£½ `cert.pem` åˆ°å®¹å™¨æˆ–æ·»åŠ ç’°å¢ƒè®Šæ•¸

---

## ğŸ¯ ä¸‹ä¸€æ­¥é©—è­‰

### 1. æª¢æŸ¥ HTTPS è¨ªå•

åœ¨ç€è¦½å™¨è¨ªå•ï¼š
- https://wuchang.life
- https://www.wuchang.life

**é æœŸçµæœ**ï¼š
- âœ… æœ‰æ•ˆçš„ SSL è­‰æ›¸ï¼ˆé–é ­åœ–ç¤ºï¼‰
- âœ… ç¶²ç«™æ­£å¸¸è¼‰å…¥
- âœ… è‡ªå‹•é‡å®šå‘åˆ° HTTPSï¼ˆå¦‚æœé…ç½®ï¼‰

### 2. æª¢æŸ¥ DNSï¼ˆç¢ºèªæœªä¿®æ”¹ï¼‰

åœ¨ Cloudflare Dashboard æª¢æŸ¥ï¼š
- âœ… `wuchang.life` çš„ A è¨˜éŒ„ä»ç„¶æ˜¯ `220.135.21.74`
- âœ… `www.wuchang.life` çš„ A è¨˜éŒ„ä»ç„¶æ˜¯ `220.135.21.74`
- âœ… **DNS è¨˜éŒ„æœªä¿®æ”¹**ï¼ˆç¬¦åˆ Google éç‡Ÿåˆ©è¦ç¯„ï¼‰

### 3. æª¢æŸ¥ Tunnel ç‹€æ…‹

```powershell
docker logs wuchangv510-cloudflared-1 --tail 20
```

æ‡‰è©²çœ‹åˆ°æŒçºŒçš„é€£æ¥æ´»å‹•ï¼Œæ²’æœ‰éŒ¯èª¤è¨Šæ¯ã€‚

---

## âœ… ç¬¦åˆ Google éç‡Ÿåˆ©è¦ç¯„

### æŠ€è¡“è¦æ±‚

- âœ… **HTTPS/SSL è­‰æ›¸**ï¼šé€šé Cloudflare Tunnel è‡ªå‹•ç°½ç™¼
- âœ… **å…¨çƒå¯è¦‹æ€§**ï¼šDNS å·²æ­£ç¢ºå‚³æ’­ï¼ˆé©—è­‰å®Œæˆï¼‰
- âœ… **DNS è¨˜éŒ„æœªä¿®æ”¹**ï¼šä¿æŒç¾æœ‰ DNS è¨˜éŒ„ä¸è®Š

### åˆè¦æª¢æŸ¥

- âœ… ä¸é•å Google éç‡Ÿåˆ©è¦ç¯„ï¼ˆæœªä¿®æ”¹ DNSï¼‰
- âœ… æ»¿è¶³ Google Ad Grants æŠ€è¡“è¦æ±‚
- âœ… ä¿æŒç¾æœ‰åŸºç¤è¨­æ–½ä¸è®Š

---

## ğŸ“‹ é…ç½®æ‘˜è¦

### å®¹å™¨è³‡è¨Š
- **å®¹å™¨åç¨±**ï¼š`wuchangv510-cloudflared-1`
- **æ˜ åƒ**ï¼š`cloudflare/cloudflared:latest`
- **é‡å•Ÿç­–ç•¥**ï¼š`unless-stopped`

### Volume æ›è¼‰
- `./cloudflared/config.yml` â†’ `/etc/cloudflared/config.yml:ro`
- `./cloudflared/credentials.json` â†’ `/etc/cloudflared/credentials.json:ro`

### Tunnel è³‡è¨Š
- **Tunnel ID**ï¼š`837487dd-1536-43ec-a1c9-ee366a0aa4b7`
- **Tunnel åç¨±**ï¼š`wuchang-life`
- **é€£æ¥å”è­°**ï¼šQUIC
- **é€£æ¥æ•¸é‡**ï¼š4 å€‹ï¼ˆé«˜å¯ç”¨ï¼‰

---

## ğŸ”§ ç¶­è­·å‘½ä»¤

### æŸ¥çœ‹æ—¥èªŒ
```powershell
docker logs wuchangv510-cloudflared-1 --tail 50
```

### é‡å•Ÿå®¹å™¨
```powershell
docker restart wuchangv510-cloudflared-1
```

### åœæ­¢å®¹å™¨
```powershell
docker stop wuchangv510-cloudflared-1
```

### å•Ÿå‹•å®¹å™¨
```powershell
docker start wuchangv510-cloudflared-1
```

---

## ğŸ“ å¾ŒçºŒå»ºè­°

1. **ç›£æ§ Tunnel ç‹€æ…‹**ï¼šå®šæœŸæª¢æŸ¥æ—¥èªŒï¼Œç¢ºä¿é€£æ¥æ­£å¸¸
2. **SSL è­‰æ›¸é©—è­‰**ï¼šç­‰å¾… 5-10 åˆ†é˜å¾Œæ¸¬è©¦ HTTPS è¨ªå•
3. **æ€§èƒ½ç›£æ§**ï¼šè§€å¯Ÿ Tunnel é€£æ¥çš„ç©©å®šæ€§å’Œå»¶é²
4. **å‚™ä»½é…ç½®**ï¼šç¢ºä¿ `config.yml` å’Œ `credentials.json` å·²å‚™ä»½

---

**å ±å‘Šç”Ÿæˆæ™‚é–“**ï¼š2026-01-22  
**é…ç½®ç‹€æ…‹**ï¼šâœ… **å®Œæˆä¸¦é‹è¡Œä¸­**
