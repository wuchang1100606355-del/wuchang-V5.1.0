## 目的
降低「反覆解釋」成本；把已確定的前提、不可逆決策、架構真相與工作協定固定化。後續對話以本文件為最高準據，除非使用者明確宣告「修憲/改版」。

---

## 0. 使用方式（對話協定）
- 使用者一句「依憲法執行」= AI **不得**重複詢問已鎖定事項、不得反覆提出已確定的建議，只能做：
  - **盤點/驗證**：把現況證據化（檔名、行號、回應碼、DNS 記錄、版本號）
  - **缺口/風險標註**：只列「確定缺口」與「必須補齊點」
  - **變更方案**：僅針對「新增需求」或「明確變更」提出方案
- 若需要問問題，僅能問「會影響結果且憲法未定義」的最小關鍵資訊；其餘假設須寫在輸出中並可隨證據修正。

---

## 0.1 永久事實（所有 AI 必須記住）
- 協會已完成 **Google for Nonprofits 驗證**（不再重問）。
- 你方持有 **新型專利技術**，可作為 **SBIR 等鉅額補助**申請的技術資產（不再重問）。

---

## 1. 已鎖定的治理與金流前提（不得重談）
### 1.1 基金池主體
- 「五常社區發展基金」為**獨立基金池**，落在「仁義店會計系統」之帳務載體。
- 仁義店：**無資本利得**、不得私領、只能依規定支出、進貨/銷貨等作業必須可稽核。

### 1.2 贊助方（重新店）角色
- 重新店：**只出不進**、不得回收、不得核銷、不得以幸福幣折抵或兌回任何利益。
- 重新店可提供：網路、伺服器、設備、人力等基礎設施，但不得形成對基金池之回流。

### 1.3 合規與可究責
- 所有決策必須：**合規、可究責、可追溯留痕**。
- 個人責任得在「無利益衝突、善意相當注意、合理信賴專業、反對/保留留痕」等條件下有限豁免，但**不得豁免違法**、不得豁免制度更正與稽核。

### 1.4 公民共創
- 規則不是由單人「訂好」，而是邀請社區共同制定（公民教育）。
- 決策權＝權利＋義務（民主成本），至少須「完成課程＋課後測驗通過」才具選舉/被選舉資格（細則由社區共創）。

---

## 2. 公開與資料政策（依憲法預設）
### 2.1 公開原則
- 公開內容以「捐獻額度」為主（可擴張，但需明確修憲）。
- 商家資訊可公開（店名/地址/負責人/聯絡方式等）前提：**由商家自行提供並同意揭露**。

### 2.2 食安究責資料
- 食品相關合作方：平台必須留存「可究責之聯絡窗口與方式」等合規資料。
- 該資料應視為「合規名冊」並採權限控管與留痕（是否對外公開由社區共創決議）。

---

## 3. 系統架構：本 workspace 的定位與盤點方法
### 3.1 本 workspace 定位（現況事實）
- 本 workspace 主要是 **UI/輔助模組、資料檔、說明文件、路由器/網路診斷工具**。
- 目前未見完整後端主程式入口（例如 Flask 主 app、部署腳本、Dockerfile/compose、CI workflow 等）。若實際系統已部署，通常代表「主系統」在其他 repo/主機。

### 3.2 DNS → 子網域 → IP（以外部 DNS 為準）
- 真實 DNS 記錄以 `dns_records.json` 為準（並可用 8.8.8.8/1.1.1.1 驗證）。
- 本機可能存在 `hosts` 覆寫（例如 `wuchang.life -> 127.0.0.1`），盤點時不得以本機解析作為全局真相。

### 3.3 盤點的證據標準（AI 必須遵守）
- 任何「系統存在/不存在」的結論必須附證據：
  - **程式碼**：檔名＋行號＋關鍵片段
  - **DNS**：解析結果（指定 DNS server）
  - **服務回應**：狀態碼/Server header/redirect
  - **部署線索**：Docker/CI/腳本/設定檔檔名與內容

---

## 4. 目前已知的 repo 內功能清單（現況）
- `api_community_data.py`：社區分析/知識庫查詢 API（Blueprint，需主 app 掛載才可跑）
- `upload_avatar_api.py`：頭像上傳 API（Blueprint）
- `ai_knowledge_base.py`、`community_kb_indexer.py`：知識庫載入/索引生成
- `community_data_integration.py`：社區分析 JSON 載入
- `wuchang_community_dashboard.html`、`system_architecture.html`：儀表板/架構展示頁
- `router_connection.py`、`login_router.py`、`diagnose_connection.py`、`test_local_connection.py`：路由器/DDNS/內網連線診斷工具

---

## 5. 變更管理（修憲）
- 任何「推翻/改動」第 1 章已鎖定前提，必須由使用者明確宣告「修憲」並指出：
  - 改動條款
  - 新規則文字
  - 生效範圍與日期

