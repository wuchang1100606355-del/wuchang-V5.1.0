# åœ°ç«¯æ©Ÿçµ±ä¸€å›ºå®šIPèˆ‡è·¯ç”±å™¨æ›è¼‰ç®¡ç†æŒ‡å—

## ğŸ“‹ æ¦‚è¿°

åœ°ç«¯æ©Ÿçµ±ä¸€å›ºå®šIPé…ç½®ç³»çµ±ï¼Œç”±è·¯ç”±å™¨èª¿é…è½‰ç™¼å’Œæ›è¼‰ã€‚

## ğŸ¯ æ ¸å¿ƒåŸå‰‡

- **çµ±ä¸€å›ºå®šIP**: åœ°ç«¯æ©Ÿä½¿ç”¨å›ºå®šIP `192.168.50.100`
- **è·¯ç”±å™¨èª¿é…**: æ‰€æœ‰ç«¯å£è½‰ç™¼å’Œæ›è¼‰ç”±è·¯ç”±å™¨ç®¡ç†
- **è‡ªå‹•åŒ–é…ç½®**: é€éè…³æœ¬è‡ªå‹•è¨­å®šå›ºå®šIPå’Œè·¯ç”±å™¨è¦å‰‡

## ğŸ”§ ç³»çµ±æ¶æ§‹

```
åœ°ç«¯æ©Ÿ (192.168.50.100)
    â†“
è·¯ç”±å™¨ (192.168.50.84)
    â†“
ç«¯å£è½‰ç™¼è¦å‰‡
    â†“
å¤–éƒ¨è¨ªå• (220.135.21.74)
```

## ğŸ“¦ å·¥å…·èªªæ˜

### 1. local_machine_fixed_ip_setup.py
**åœ°ç«¯æ©Ÿå›ºå®šIPè¨­å®šå·¥å…·**

åŠŸèƒ½ï¼š
- è¨­å®šæœ¬æ©Ÿå›ºå®šIP
- é…ç½®DNSä¼ºæœå™¨
- å¯é¸ï¼šåŒæ™‚é…ç½®è·¯ç”±å™¨ç«¯å£è½‰ç™¼

ä½¿ç”¨æ–¹å¼ï¼š
```bash
# åŸºæœ¬è¨­å®š
python local_machine_fixed_ip_setup.py

# æŒ‡å®šIPå’Œé–˜é“
python local_machine_fixed_ip_setup.py --ip 192.168.50.100 --gateway 192.168.50.84

# åŒæ™‚é…ç½®è·¯ç”±å™¨ç«¯å£è½‰ç™¼
python local_machine_fixed_ip_setup.py --configure-router

# æ¨¡æ“¬åŸ·è¡Œ
python local_machine_fixed_ip_setup.py --dry-run
```

### 2. router_mount_management.py
**è·¯ç”±å™¨æ›è¼‰ç®¡ç†å·¥å…·**

åŠŸèƒ½ï¼š
- è¨­å®šåœ°ç«¯æ©Ÿå›ºå®šIP
- é…ç½®è·¯ç”±å™¨ç«¯å£è½‰ç™¼
- ç®¡ç†æ›è¼‰é»
- æŸ¥çœ‹è·¯ç”±å™¨ç‹€æ…‹

ä½¿ç”¨æ–¹å¼ï¼š
```bash
# åŸ·è¡Œæ‰€æœ‰è¨­å®š
python router_mount_management.py --all

# åªè¨­å®šå›ºå®šIP
python router_mount_management.py --setup-local-machine

# åªè¨­å®šè·¯ç”±å™¨ç«¯å£è½‰ç™¼
python router_mount_management.py --setup-router-forwarding

# æŸ¥çœ‹ç‹€æ…‹
python router_mount_management.py --status
```

### 3. uninstall_and_deploy_workflow.py
**å®Œæ•´å¸è¼‰èˆ‡éƒ¨ç½²å·¥ä½œæµç¨‹**

åŠŸèƒ½ï¼š
- æ­¥é©Ÿ1: å®Œæ•´å¸è¼‰
- æ­¥é©Ÿ2: è¨­å®šåœ°ç«¯æ©Ÿå›ºå®šIP
- æ­¥é©Ÿ3: é…ç½®è·¯ç”±å™¨æ›è¼‰ç®¡ç†
- æ­¥é©Ÿ4: é›™Jå…¨é¢éƒ¨ç½²ï¼ˆè‡ªå‹•æ›¿æ›DNSï¼‰

ä½¿ç”¨æ–¹å¼ï¼š
```bash
# å®Œæ•´æµç¨‹
python uninstall_and_deploy_workflow.py

# æŒ‡å®šåƒæ•¸
python uninstall_and_deploy_workflow.py --fixed-ip 192.168.50.100 --server-dir "\\\\SERVER\\share"

# è·³éæŸäº›æ­¥é©Ÿ
python uninstall_and_deploy_workflow.py --skip-uninstall --skip-fixed-ip
```

## ğŸŒ åœ°ç«¯æ©Ÿå›ºå®šIPé…ç½®

### é è¨­é…ç½®
- **IPåœ°å€**: `192.168.50.100`
- **å­ç¶²è·¯é®ç½©**: `255.255.255.0`
- **é–˜é“**: `192.168.50.84` (è·¯ç”±å™¨)
- **DNSä¸»ä¼ºæœå™¨**: `8.8.8.8`
- **DNSæ¬¡ä¼ºæœå™¨**: `8.8.4.4`

### Windows è¨­å®šæ–¹å¼

#### è‡ªå‹•è¨­å®šï¼ˆæ¨è–¦ï¼‰
```bash
python local_machine_fixed_ip_setup.py --configure-router
```

#### æ‰‹å‹•è¨­å®š
1. é–‹å•Ÿã€Œç¶²è·¯å’Œå…±ç”¨ä¸­å¿ƒã€
2. é»é¸ã€Œè®Šæ›´ä»‹é¢å¡è¨­å®šã€
3. å³éµé»é¸ç¶²è·¯ä»‹é¢å¡ â†’ ã€Œå…§å®¹ã€
4. é¸æ“‡ã€Œç¶²éš›ç¶²è·¯é€šè¨Šå”å®šç¬¬4ç‰ˆ (TCP/IPv4)ã€â†’ ã€Œå…§å®¹ã€
5. é¸æ“‡ã€Œä½¿ç”¨ä¸‹åˆ—çš„IPä½å€ã€ï¼š
   - IPä½å€: `192.168.50.100`
   - å­ç¶²è·¯é®ç½©: `255.255.255.0`
   - é è¨­é–˜é“: `192.168.50.84`
6. é¸æ“‡ã€Œä½¿ç”¨ä¸‹åˆ—çš„DNSä¼ºæœå™¨ä½å€ã€ï¼š
   - æ…£ç”¨DNSä¼ºæœå™¨: `8.8.8.8`
   - å…¶ä»–DNSä¼ºæœå™¨: `8.8.4.4`

## ğŸ”Œ è·¯ç”±å™¨ç«¯å£è½‰ç™¼é…ç½®

### è‡ªå‹•é…ç½®çš„ç«¯å£è½‰ç™¼è¦å‰‡

| æœå‹™åç¨± | å¤–éƒ¨ç«¯å£ | å…§éƒ¨IP | å…§éƒ¨ç«¯å£ | å”è­° |
|---------|---------|--------|---------|------|
| Local Control Center | 8788 | 192.168.50.100 | 8788 | TCP |
| Little J Hub | 8799 | 192.168.50.100 | 8799 | TCP |
| Ollama API | 11434 | 192.168.50.100 | 11434 | TCP |
| Open WebUI | 3000 | 192.168.50.100 | 3000 | TCP |

### é…ç½®æ–¹å¼

#### è‡ªå‹•é…ç½®ï¼ˆæ¨è–¦ï¼‰
```bash
python router_mount_management.py --setup-router-forwarding
```

#### æ‰‹å‹•é…ç½®
1. ç™»å…¥è·¯ç”±å™¨ç®¡ç†ä»‹é¢: `https://192.168.50.84:8443`
2. é€²å…¥ã€Œé€²éšè¨­å®šã€â†’ ã€Œé€£æ¥åŸ è½‰ç™¼ã€
3. æ–°å¢è¦å‰‡ï¼š
   - æœå‹™åç¨±: `åœ°ç«¯æ©Ÿ-Local Control Center`
   - å¤–éƒ¨ç«¯å£: `8788`
   - å…§éƒ¨IP: `192.168.50.100`
   - å…§éƒ¨ç«¯å£: `8788`
   - å”è­°: `TCP`

## ğŸ“ æ›è¼‰é»ç®¡ç†

### é è¨­æ›è¼‰é»

| åç¨± | é¡å‹ | ä¼ºæœå™¨ | å…±äº« | æ›è¼‰é» |
|------|------|--------|------|--------|
| ä¼ºæœå™¨å…±äº« | SMB | wuchang.life | wuchang | Z:\ |

### æ›è¼‰æ–¹å¼

#### Windows SMB æ›è¼‰
```bash
net use Z: \\wuchang.life\wuchang /persistent:yes
```

#### è‡ªå‹•é…ç½®
```bash
python router_mount_management.py --setup-mounts
```

## ğŸ”„ å®Œæ•´å·¥ä½œæµç¨‹

### 1. å®Œæ•´å¸è¼‰
```bash
python complete_uninstall.py --backup-dir backups/
```

### 2. è¨­å®šåœ°ç«¯æ©Ÿå›ºå®šIP
```bash
python local_machine_fixed_ip_setup.py --configure-router
```

### 3. é…ç½®è·¯ç”±å™¨æ›è¼‰ç®¡ç†
```bash
python router_mount_management.py --all
```

### 4. é›™Jå…¨é¢éƒ¨ç½²ï¼ˆè‡ªå‹•æ›¿æ›DNSï¼‰
```bash
python dual_j_full_deployment.py --server-dir "\\\\SERVER\\share"
```

### ä¸€éµåŸ·è¡Œ
```bash
python uninstall_and_deploy_workflow.py
```

## ğŸ“Š DNSæ›´æ”¹æ¸…å–®

### çµ±è¨ˆæ‘˜è¦
- **éœ€è¦æ›´æ”¹çš„æª”æ¡ˆæ•¸**: 111 å€‹
- **ç¸½DNSå‡ºç¾æ¬¡æ•¸**: 330 è™•
- **DNSé¡å‹åˆ†å¸ƒ**:
  - `127.0.0.1`: 54 å€‹æª”æ¡ˆï¼Œ131 è™•
  - `localhost`: 42 å€‹æª”æ¡ˆï¼Œ114 è™•
  - `192.168.50.84`: 15 å€‹æª”æ¡ˆï¼Œ85 è™•

### æŸ¥çœ‹è©³ç´°æ¸…å–®
```bash
# ç”ŸæˆDNSæ›´æ”¹æ¸…å–®
python dual_j_full_deployment.py --dns-list-only

# æŸ¥çœ‹æ¸…å–®æª”æ¡ˆ
cat dns_change_list_YYYYMMDD_HHMMSS.json
```

è©³ç´°æ¸…å–®è«‹åƒè€ƒï¼š`DNS_CHANGE_LIST.md`

## âš™ï¸ é…ç½®æª”æ¡ˆ

### local_machine_config.json
åœ°ç«¯æ©Ÿé…ç½®æª”æ¡ˆï¼ˆè‡ªå‹•ç”Ÿæˆï¼‰

```json
{
  "fixed_ip": "192.168.50.100",
  "subnet_mask": "255.255.255.0",
  "gateway": "192.168.50.84",
  "dns_primary": "8.8.8.8",
  "dns_secondary": "8.8.4.4",
  "mac_address": "XX:XX:XX:XX:XX:XX",
  "last_updated": "2026-01-22T08:00:00"
}
```

## ğŸ” ç‹€æ…‹æŸ¥è©¢

### æŸ¥çœ‹åœ°ç«¯æ©ŸIPé…ç½®
```bash
# Windows
ipconfig /all

# æŸ¥çœ‹é…ç½®æª”æ¡ˆ
cat local_machine_config.json
```

### æŸ¥çœ‹è·¯ç”±å™¨ç«¯å£è½‰ç™¼ç‹€æ…‹
```bash
python router_mount_management.py --status
```

### æŸ¥çœ‹æ›è¼‰é»ç‹€æ…‹
```bash
# Windows
net use

# æŸ¥çœ‹é…ç½®
cat router_mount_management.py
```

## âš ï¸ æ³¨æ„äº‹é …

1. **å›ºå®šIPè¡çª**: ç¢ºä¿ `192.168.50.100` æœªè¢«å…¶ä»–è¨­å‚™ä½¿ç”¨
2. **è·¯ç”±å™¨é…ç½®**: éœ€è¦è·¯ç”±å™¨ç®¡ç†å“¡æ¬Šé™
3. **ç¶²è·¯ä¸­æ–·**: è¨­å®šå›ºå®šIPæ™‚å¯èƒ½çŸ­æš«ä¸­æ–·ç¶²è·¯é€£ç·š
4. **å‚™ä»½é…ç½®**: å»ºè­°åœ¨è®Šæ›´å‰å‚™ä»½ç•¶å‰ç¶²è·¯é…ç½®
5. **DNSæ›¿æ›**: éƒ¨ç½²æ™‚æœƒè‡ªå‹•æ›¿æ›DNSï¼Œè«‹ç¢ºèªæ›¿æ›è¦å‰‡æ­£ç¢º

## ğŸ”— ç›¸é—œæª”æ¡ˆ

- `local_machine_fixed_ip_setup.py` - å›ºå®šIPè¨­å®šå·¥å…·
- `router_mount_management.py` - è·¯ç”±å™¨æ›è¼‰ç®¡ç†
- `uninstall_and_deploy_workflow.py` - å®Œæ•´å·¥ä½œæµç¨‹
- `complete_uninstall.py` - å®Œæ•´å¸è¼‰å·¥å…·
- `dual_j_full_deployment.py` - é›™Jå…¨é¢éƒ¨ç½²
- `DNS_CHANGE_LIST.md` - DNSæ›´æ”¹æ¸…å–®æ–‡æª”
- `local_machine_config.json` - åœ°ç«¯æ©Ÿé…ç½®æª”æ¡ˆ

## ğŸ“… æ–‡æª”å»ºç«‹æ—¥æœŸ

2026-01-22
